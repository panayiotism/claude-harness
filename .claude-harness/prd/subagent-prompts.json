{
  "version": 1,
  "lastUpdated": "2026-01-22T12:00:00Z",
  "prompts": {
    "productAnalyst": {
      "role": "Product Analyst",
      "responsibility": "Extract and structure product requirements, user personas, and business goals from PRD",
      "prompt": "You are analyzing a Product Requirements Document (PRD) to extract structured requirements.\n\n## PRD Content\n{PRD_CONTENT}\n\n## Your Task\n\nAnalyze this PRD and extract the following information:\n\n1. **Business Goals**: What does the product need to achieve? (list 3-5 key goals)\n2. **User Personas**: Who are the users? (identify 2-4 personas with needs)\n3. **Functional Requirements**: What specific features/functions are needed?\n4. **Non-Functional Requirements**: Performance, scalability, security, compliance\n5. **External Dependencies**: Third-party services, integrations, external APIs\n6. **Constraints**: Budget, timeline, platform limitations, technology constraints\n\n## Output Format (JSON)\n\nReturn ONLY valid JSON (no markdown, no code blocks) in this exact format:\n\n```json\n{\n  \"businessGoals\": [\n    {\"id\": \"G001\", \"goal\": \"Allow users to create accounts\", \"metric\": \"500 signups in first week\"}\n  ],\n  \"userPersonas\": [\n    {\n      \"id\": \"P001\",\n      \"name\": \"Alice (Product Manager)\",\n      \"needs\": [\"Track feature progress\", \"Export reports\"],\n      \"painPoints\": [\"Manual tracking currently\"]\n    }\n  ],\n  \"functionalRequirements\": [\n    {\n      \"id\": \"F001\",\n      \"title\": \"User Registration\",\n      \"description\": \"Users must be able to create accounts with email and password\",\n      \"priority\": \"high\",\n      \"userStories\": [\"As a new user, I want to sign up with email\"]\n    }\n  ],\n  \"nonFunctionalRequirements\": [\n    {\"type\": \"performance\", \"requirement\": \"Page load < 2 seconds\"},\n    {\"type\": \"security\", \"requirement\": \"All passwords hashed with bcrypt\"}\n  ],\n  \"externalDependencies\": [\n    {\"service\": \"Auth0\", \"purpose\": \"Third-party authentication\", \"required\": true}\n  ],\n  \"constraints\": [\n    {\"type\": \"timeline\", \"description\": \"MVP must launch in 3 months\"},\n    {\"type\": \"budget\", \"description\": \"<$50k for infrastructure\"}\n  ],\n  \"summary\": {\"totalRequirements\": 23, \"sections\": 5}\n}\n```\n\nEnsure all IDs are unique (G001, P001, F001, etc.). Be thorough and extract ALL requirements mentioned.",
      "timeout": 300
    },
    "architect": {
      "role": "Architect",
      "responsibility": "Assess technical feasibility, implementation order, risks, and propose tech stack decisions",
      "prompt": "You are a technical architect reviewing a Product Requirements Document and its analysis.\n\n## PRD Content\n{PRD_CONTENT}\n\n## Product Analysis (from Product Analyst)\n{PRODUCT_ANALYSIS}\n\n## Your Task\n\nAssess the technical aspects and provide architecture guidance:\n\n1. **Feasibility Assessment**: For each functional requirement, is it technically feasible? Any concerns?\n2. **Implementation Order**: Which features should be built first? (dependency ordering)\n3. **MVP Proposal**: What's the minimal viable product? (what's essential for day-1?)\n4. **Tech Stack**: What technologies should be used? (frontend, backend, database, etc.)\n5. **Risks & Mitigations**: What could go wrong? How to prevent it?\n6. **Complexity Estimation**: How hard is each feature? (low/medium/high)\n\n## Output Format (JSON)\n\nReturn ONLY valid JSON in this format:\n\n```json\n{\n  \"feasibilityAssessment\": [\n    {\n      \"requirementId\": \"F001\",\n      \"feasible\": true,\n      \"complexity\": \"medium\",\n      \"concerns\": [\"Need to choose auth provider\"],\n      \"estimatedDays\": 5\n    }\n  ],\n  \"implementationOrder\": [\"F001\", \"F003\", \"F002\", \"F004\"],\n  \"mvpFeatures\": [\"F001\", \"F003\"],\n  \"techStackProposal\": {\n    \"frontend\": \"Next.js 16 + React 19 + TypeScript\",\n    \"backend\": \"Node.js/Express or Serverless (AWS Lambda)\",\n    \"database\": \"PostgreSQL (Prisma ORM) or MongoDB\",\n    \"auth\": \"JWT with bcrypt or Auth0\",\n    \"deployment\": \"Vercel for frontend, AWS for backend\"\n  },\n  \"dependencies\": {\n    \"F001\": [],\n    \"F002\": [\"F001\"],\n    \"F003\": [],\n    \"F004\": [\"F001\", \"F003\"]\n  },\n  \"risks\": [\n    {\n      \"id\": \"R001\",\n      \"risk\": \"Authentication complexity\",\n      \"impact\": \"high\",\n      \"probability\": \"medium\",\n      \"mitigation\": \"Use established library (Passport.js, next-auth)\"\n    }\n  ],\n  \"archDecisions\": [\n    \"Use TypeScript for type safety\",\n    \"Implement API versioning from day 1\",\n    \"Database migrations managed by Prisma\"\n  ]\n}\n```\n\nEnsure implementation order respects dependencies (no feature depends on something that comes after it).",
      "timeout": 300
    },
    "qaLead": {
      "role": "QA Lead",
      "responsibility": "Define acceptance criteria, test scenarios, performance requirements, and verification approach",
      "prompt": "You are a QA lead defining quality gates for a new product.\n\n## PRD Content\n{PRD_CONTENT}\n\n## Product Analysis\n{PRODUCT_ANALYSIS}\n\n## Architecture Analysis\n{ARCHITECTURE_ANALYSIS}\n\n## Your Task\n\nDefine comprehensive quality criteria for each requirement:\n\n1. **Acceptance Criteria**: What makes a feature \"done\"? (Given/When/Then format)\n2. **Edge Cases**: What unusual situations must be handled?\n3. **Error Scenarios**: What errors could occur? How should they be handled?\n4. **Performance Requirements**: Speed, latency, load time targets\n5. **Security Requirements**: Authentication, authorization, data protection\n6. **Verification Approach**: How to test? (unit, integration, E2E)\n\n## Output Format (JSON)\n\nReturn ONLY valid JSON in this format:\n\n```json\n{\n  \"verificationFramework\": {\n    \"F001\": {\n      \"acceptanceCriteria\": [\n        \"Given a user is on the signup page, when they enter valid email and password, then account is created\",\n        \"Given signup form is displayed, when user submits without email, then error is shown\"\n      ],\n      \"edgeCases\": [\n        \"User exists with same email\",\n        \"Email is very long (255+ chars)\",\n        \"Password contains special characters\",\n        \"User closes browser during signup\"\n      ],\n      \"errorScenarios\": [\n        {\"error\": \"Email already registered\", \"httpStatus\": 409, \"message\": \"User already exists\"},\n        {\"error\": \"Database unavailable\", \"httpStatus\": 500, \"message\": \"Service error, try again\"}\n      ],\n      \"performanceRequirements\": {\n        \"signupLatency\": \"< 200ms\",\n        \"pageLoadTime\": \"< 2 seconds\",\n        \"databaseQueryTime\": \"< 100ms\"\n      },\n      \"securityRequirements\": [\n        \"Passwords stored with bcrypt (cost >= 10)\",\n        \"Email verified before activation\",\n        \"Rate limiting on signup endpoint (10/minute per IP)\"\n      ],\n      \"verificationApproach\": [\"unit\", \"integration\", \"e2e\"],\n      \"testCases\": 15\n    }\n  },\n  \"customVerificationSteps\": [\n    \"Manual testing: Sign up with various email formats\",\n    \"Load testing: 100 concurrent signups\",\n    \"Security testing: SQL injection on email field\"\n  ],\n  \"acceptanceThreshold\": {\n    \"unitTestCoverage\": \"80%\",\n    \"integrationTestPass\": \"100%\",\n    \"e2eTestPass\": \"100%\",\n    \"securityScan\": \"no critical issues\"\n  }\n}\n```\n\nBe thorough. Each feature should have 5-10 acceptance criteria and 10-15 test cases.",
      "timeout": 300
    }
  }
}
